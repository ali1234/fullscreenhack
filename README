Fullscreen hack for Flash Plugin
Author: Alistair Buxton <a.j.buxton@gmail.com>
Edited By: Timothy Zorn <timothy.zorn@zornco.net>


Why
---

Flash plugin incorrectly determines the fullscreen resolution when 
using nvidia twinview. The result is that fullscreen windows fill 
the primary monitor, but the video gets scaled as if the primary 
monitor had the resolution of the total display area.

How
---

The npviewer script loads the hack with LD_PRELOAD and it patches 
the XGetGeometry call which flash uses to determine screen size. 
If XGetGeometry would return the size of the root window, the patch 
causes it to instead return the size of a single monitor.

The monitor sizes sent are now based on Xinerama.


Config
------

see the 'Build it' section

Dependencies
------------

for 'yum' (Fedora and RHEL Distros)

gcc (or similar C compiler)
make
glibc-devel
libX11-devel
libXrandr-devel
libXinerama-devel

for 'apt-get'

I believe it would be
gcc
make
glibc-dev
libX11-dev
libXrandr-dev
libXinerama-dev

For native Flash plugin:
------------------------

Build it:
---------

+---------+
|Important|
+---------+

If your OS is 64-bit, edit Makefile; line 1 should be BITS=64
If your OS is 32-bit, edit Makefile; line 1 should be BITS=32

Run 'make' to compile
Run 'make test' to test the compiled binary.

Firefox:
--------

+---------+
|Important|
+---------+

To install run 'sudo make firefox'
you can also just use 'sudo make simpleinstall' to manually install
see 'Other-browsers'

+-------------+
|Not Important|
+-------------+

After a successful install:

/usr/bin/firefox is moved to /usr/bin/firefox.main if it hasn't been moved already
and /usr/bin/firefox contains code to preload the hack while running /usr/bin/firefox.main
This part is not important to most end-users

Other-browsers:

+---------+
|Important|
+---------+

To install run 'sudo make simpleinstall'

This will install libfullscreenhack.so
to '/usr/lib/libfullscreenhack.so'
(if BITS=32)
or to '/usr/lib64/libfullscreenhack.so'
(if BITS=64)

+--------------+
|Very Important|
+--------------+

If you used 'sudo make simpleinstall' be sure to set
LD_PRELOAD="/usr/lib/libfullscreenhack.so"
(if BITS=32)
LD_PRELOAD="/usr/lib/libfullscreenhack.so"
(if BITS=64)

